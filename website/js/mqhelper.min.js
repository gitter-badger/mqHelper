/* 
 * Author: Kevin Purnelle
 * Forker: Dave Kinsella
*/
"use strict";var mqHelper={options:{stripped:null,groups:null,normal:!0,position:"bottom",mqRegex:RegExp(/(@media[^\{]*)\{(([^\{\}]*\{[^\{\}]*\})*)[^\}]*\}/gi)},process:function(a){var b,d,c=[],e="";for(e=a.replace(this.options.mqRegex,"").trim();b=this.options.mqRegex.exec(a);)b[1]=this.normalizeQuery(b[1]),c.push([b[1],b[2]]);return c.sort(this.compareQueries),d=this.groupQueries(c),{mqs:d,stripped:e}},normalizeQuery:function(a){return a=a.toLowerCase().trim().replace(/\s{2,}/g," "),a=a.replace(/\(\s/g,"("),a=a.replace(/\s\)/g,")")},compareQueries:function(a,b){return a[0].localeCompare(b[0])},groupQueries:function(a){var b={},c=[];if(a.length>0){b.query=a[0][0],b.rules="";for(var d=0,e=a.length;e>d;d++)a[d][0]===b.query?b.rules+=a[d][1]:(c.push(jQuery.extend({},b)),b.query=a[d][0],b.rules=a[d][1]);c.push(b)}else c=null;return c}};